CREATE TABLE accounts(
  id        INTEGER PRIMARY KEY NOT NULL, 
  owner     TEXT NOT NULL,
  iban      TEXT NOT NULL,
  bic       TEXT NOT NULL,
  type      TEXT NOT NULL
);

CREATE TABLE transactions(
  payor     INTEGER REFERENCES accounts,
  payee     INTEGER REFERENCES accounts, 
  date      TEXT NOT NULL,
  reference TEXT NOT NULL,
  entry     TEXT NOT NULL,
  value     INT NOT NULL,
  currency  TEXT NOT NULL,
  label     TEXT NOT NULL
);
CREATE INDEX transact_payor_index ON transactions(payor);
CREATE INDEX transact_payee_index ON transactions(payee);

CREATE TABLE capital(
  account   INTEGER REFERENCES accounts,
  date      TEXT NOT NULL,
  value     INT NOT NULL,
  currency  TEXT NOT NULL
);
CREATE INDEX capital_index ON capital(account); 

CREATE TABLE personalAccounts(
  account   INTEGER REFERENCES accounts,
  comment   TEXT NOT NULL
);
CREATE INDEX personalAccounts_index ON personalAccounts(account); 

CREATE TABLE cashflow(
  category  TEXT NOT NULL,
  start_day TEXT NOT NULL,
  end_day   TEXT NOT NULL,
  value     INT NOT NULL,
  currency  TEXT NOT NULL,
  comment   TEXT
);

CREATE TABLE classifier(
  type      TEXT NOT NULL,
  model     BLOB
);
